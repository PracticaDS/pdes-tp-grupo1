{"version":3,"sources":["actions/game.js","model/material.js","model/modelUpdate.js","model/recipe.js","model/machine.js","components/MachineToolbox.js","containers/MachineToolbox.jsx","components/Machine.js","components/FactoryBlock.js","containers/FactoryBlock.js","components/Factory.js","containers/Factory.js","components/DetailsToolBox.js","containers/DetailsToolBox.js","containers/Money.js","components/Money.js","App.js","serviceWorker.js","reducers/game.js","reducers/ui.js","index.js","constants.js"],"names":["constants","require","Material","name","Object","classCallCheck","this","price","content","createClass","key","value","type","IronMaterial","DiamondMaterial","GoldMaterial","_Material","possibleConstructorReturn","getPrototypeOf","call","inherits","LiquidIronMaterial","_Material2","_Material3","LiquidDiamondMaterial","_Material4","_Material5","LiquidGoldMaterial","_Material6","SwordMaterial","_Material7","_this","Update","machineId","id","machine","clone","TransportUpdate","_Update2","material","push","SwordRecipe","ingredients","materials","filter","mat","includes","length","BaseMachine","orientation","assign","create","DOWN","RIGHT","UP","LEFT","dirs","nextDir","indexOf","StarterMachine","SellerMachine","TransporterMachine","FurnaceMachine","CrafterMachine","_BaseMachine","production","frequency","counter","getNextMachineId","createMaterial","_BaseMachine2","_this2","profit","reduce","sum","_BaseMachine3","_this3","_this4","changes","map","_BaseMachine4","_this5","_this6","transform","_BaseMachine5","_this7","recipe","product","craft","classNames","Button","_ref2","onSelected","selection","classes","btn","selected","react_default","a","createElement","className","onClick","createMachine","toLowerCase","connect","state","dispatch","ACTION_SELECTION_NEW","newSelection","_ref","MACHINE_TYPES","t","MachineToolbox_Button","Machine","props","concat","onBlankClick","blockId","ACTION_SELECTION_BLANK","blankSelection","onMachineClick","ACTION_SELECTION_MACHINE","machineSelection","block","Machine_Machine","Factory","_React$Component","apply","arguments","classFactory","toMove","factory","k","containers_FactoryBlock","React","Component","MachineDetails","money","onDeleted","ACTION_DELETE","deleted","onRotate","ACTION_ROTATE","rotate","onMove","ACTION_MOVE","move","selectMaterial","DetailsToolBox_MachineDetails","App","setInterval","notifyTick","containers_Money","containers_MachineToolbox","containers_Factory","containers_DetailsToolBox","Boolean","window","location","hostname","match","globalUpdates","tick","update","updateMachine","newState","change","machineTarget","execute","objectSpread","slice","store","createStore","action","newMachine","e","addNewMachine","rotateMachine","deleteMachine","game","initialState","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","FACTORY_HEIGHT","FACTORY_WIDTH","BLOCK_EMPTY","MACHINE_STARTER","MACHINE_SELLER","MACHINE_TRANSPORTER","MACHINE_FURNACE","MACHINE_CRAFTER","STARTER_PRICE","SELLER_PRICE","TRANSPORTER_PRICE","FURNACE_PRICE","CRAFTER_PRICE","_home_travis_build_PracticaDS_pdes_tp_grupo1_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","Array"],"mappings":"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","file":"static/js/main.67eee62e.chunk.js","sourcesContent":["const constants = require('../constants')\n\nexport const newSelection = (machine) => ({\n  type: constants.ACTION_SELECTION_NEW,\n  machine: machine\n})\n\nexport const blankSelection = (blockId) => ({\n  type: constants.ACTION_SELECTION_BLANK,\n  blockId: blockId\n})\n\nexport const machineSelection = (machine) => ({\n  type: constants.ACTION_SELECTION_MACHINE,\n  machine: machine\n})\n\nexport const deleted = (machine) => ({\n  type: constants.ACTION_DELETE,\n  machine\n})\n\nexport const rotate = (machine) => ({\n  type: constants.ACTION_ROTATE,\n  machine\n})\n\nexport const move = (machine) => ({\n  type: constants.ACTION_MOVE,\n  machine\n})\n\nexport const tick = () => ({ type: 'TICK' })\n","export class Material {\n  constructor (name) {\n    this.name = name\n    this.price = 100\n    this.content = ''\n  }\n\n  static createMaterial (type) {\n    switch (type) {\n      case 'IRON': return new IronMaterial()\n      case 'DIAMOND': return new DiamondMaterial()\n      case 'GOLD': return new GoldMaterial()\n      default:\n    }\n  }\n\n  transform () {\n    return this\n  }\n}\n\nexport class IronMaterial extends Material {\n  constructor () {\n    super('IRON')\n  }\n\n  transform () {\n    return new LiquidIronMaterial()\n  }\n}\n\nexport class LiquidIronMaterial extends Material {\n  constructor () {\n    super('LIQUID_IRON')\n  }\n}\n\nexport class DiamondMaterial extends Material {\n  constructor () {\n    super('DIAMOND')\n  }\n\n  transform () {\n    return new LiquidDiamondMaterial()\n  }\n}\n\nexport class LiquidDiamondMaterial extends Material {\n  constructor () {\n    super('LIQUID_DIAMOND')\n  }\n}\n\nexport class GoldMaterial extends Material {\n  constructor () {\n    super('GOLD')\n  }\n\n  transform () {\n    return new LiquidGoldMaterial()\n  }\n}\n\nexport class LiquidGoldMaterial extends Material {\n  constructor () {\n    super('LIQUID_GOLD')\n  }\n}\n\nexport class SwordMaterial extends Material {\n  constructor () {\n    super('SWORD')\n    this.content = '🗡️'\n  }\n}\n","export class Update {\n  constructor (machineId) {\n    this.id = machineId\n  }\n\n  execute (machine) {\n    return machine.clone()\n  }\n}\n\nexport class CleanUpdate extends Update {\n  execute (machine) {\n    machine.material = []\n    return machine.clone()\n  }\n}\n\nexport class TransportUpdate extends Update {\n  constructor (machineId, material) {\n    super(machineId)\n    this.material = material\n  }\n\n  execute (machine) {\n    machine.material.push(this.material)\n    return machine.clone()\n  }\n}\n","import { SwordMaterial } from './material'\n\nexport class SwordRecipe {\n  constructor () {\n    this.ingredients = ['IRON', 'IRON', 'IRON']\n  }\n\n  craft (materials) {\n    const result = materials.filter(mat => this.ingredients.includes(mat.name))\n    if (result.length >= this.ingredients.length) {\n      return new SwordMaterial()\n    }\n  }\n}\n","import { Material } from './material'\nimport { Update, TransportUpdate } from './modelUpdate'\nimport { SwordRecipe } from './recipe'\n\nexport class BaseMachine {\n  constructor (id) {\n    this.id = id\n    this.orientation = 'DOWN'\n    this.material = []\n    this.price = 100\n  }\n\n  static createMachine (type, id) {\n    switch (type) {\n      case 'STARTER': return new StarterMachine(id)\n      case 'SELLER': return new SellerMachine(id)\n      case 'TRANSPORTER': return new TransporterMachine(id)\n      case 'FURNACE': return new FurnaceMachine(id)\n      case 'CRAFTER': return new CrafterMachine(id)\n      default:\n    }\n  }\n\n  update () {\n    return []\n  }\n\n  clone () {\n    return Object.assign(Object.create(Object.getPrototypeOf(this)), this)\n  }\n\n  getNextMachineId () {\n    const dirs = { DOWN: 8, RIGHT: 1, UP: -8, LEFT: -1 }\n    return this.id + dirs[this.orientation]\n  }\n\n  rotate () {\n    const dirs = ['DOWN', 'RIGHT', 'UP', 'LEFT']\n    const nextDir = (dirs.indexOf(this.orientation) + 1) % 4\n    this.orientation = dirs[nextDir]\n  }\n}\n\nexport class StarterMachine extends BaseMachine {\n  constructor (id) {\n    super(id)\n    this.name = 'STARTER'\n    this.production = 'IRON'\n    this.frequency = 3\n    this.counter = 0\n  }\n\n  update () {\n    this.counter++\n    if (this.frequency === this.counter) {\n      this.counter = 0\n      return [new TransportUpdate(this.getNextMachineId(), Material.createMaterial(this.production))]\n    }\n\n    return []\n  }\n}\n\nexport class SellerMachine extends BaseMachine {\n  constructor (id) {\n    super(id)\n    this.name = 'SELLER'\n    this.profit = 0\n  }\n\n  update () {\n    this.profit = this.material.reduce((sum, material) => (sum + material.price), 0)\n    this.material = []\n    return [new Update(this.id)]\n  }\n}\n\nexport class TransporterMachine extends BaseMachine {\n  constructor (id) {\n    super(id)\n    this.name = 'TRANSPORTER'\n  }\n\n  update () {\n    const changes = []\n    this.material.map(material => {\n      return changes.push(new TransportUpdate(this.getNextMachineId(), material))\n    })\n    this.material = []\n    changes.push(new Update(this.id))\n\n    return changes\n  }\n}\n\nexport class FurnaceMachine extends BaseMachine {\n  constructor (id) {\n    super(id)\n    this.name = 'FURNACE'\n  }\n\n  update () {\n    const changes = []\n    this.material.map(material => {\n      return changes.push(new TransportUpdate(this.getNextMachineId(), material.transform()))\n    })\n    this.material = []\n    changes.push(new Update(this.id))\n\n    return changes\n  }\n}\n\nexport class CrafterMachine extends BaseMachine {\n  constructor (id) {\n    super(id)\n    this.name = 'CRAFTER'\n    this.recipe = new SwordRecipe()\n  }\n\n  update () {\n    const product = this.recipe.craft(this.material)\n\n    if (product) {\n      this.material = []\n      return [new Update(this.id), new TransportUpdate(this.getNextMachineId(), product)]\n    }\n\n    return []\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { BaseMachine } from '../model/machine'\n\nimport '../styles/MachineToolbox.css'\nimport '../styles/Machine.css'\n\nvar classNames = require('classnames')\nconst constants = require('../constants')\n\nexport const MachineToolbox = ({ onSelected, selection }) => {\n  return (\n    <div className='toolbox'>\n      <h1 className='title'>Máquinas</h1>\n      <div className='items'>\n        {constants.MACHINE_TYPES.map(t => <Button type={t} selection={selection} onSelected={onSelected} />)}\n      </div>\n    </div>\n  )\n}\n\nMachineToolbox.propTypes = {\n  onSelected: PropTypes.func,\n  selection: PropTypes.object\n}\n\nconst Button = ({ type, onSelected, selection }) => {\n  const classes = {\n    btn: true,\n    selected: selection.machine && type === selection.machine.name && selection.type === 'NEW'\n  }\n\n  return (\n    <span className={classNames(classes)} onClick={() => onSelected(BaseMachine.createMachine(type))}>\n      <div className={'machine ' + type.toLowerCase()} />\n    </span>\n  )\n}\n\nButton.propTypes = {\n  onSelected: PropTypes.func,\n  type: PropTypes.string\n}\n","import { connect } from 'react-redux'\nimport { MachineToolbox } from '../components/MachineToolbox'\n\nimport { newSelection } from '../actions/game'\n\nconst mapActionsToProps = dispatch => {\n  return {\n    onSelected: machine => dispatch(newSelection(machine))\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    selection: state.selected\n  }\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(MachineToolbox)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport '../styles/Machine.css'\n\nexport const Machine = (props) => {\n  const showMaterial = () => (\n    props.machine.material.map((material) => <div className={`material ${material.name.toLowerCase()}`} >{material.content}</div>\n    )\n  )\n\n  return (\n    <div onClick={props.onClick} className={`machine ${props.machine.name.toLowerCase()} ${props.machine.orientation.toLowerCase()}`} >\n      {showMaterial()}\n    </div>\n  )\n}\n\nMachine.propTypes = {\n  machine: PropTypes.object.isRequired,\n  onClick: PropTypes.func\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { Machine } from './Machine'\n\nvar classNames = require('classnames')\n\nexport const FactoryBlock = (props) => {\n  const classes = {\n    block: true,\n    selected: props.machine && props.selection.machine && props.selection.machine.id === props.machine.id\n  }\n\n  if (props.machine) {\n    return <span className={classNames(classes)}><Machine onClick={() => props.onMachineClick(props.machine)} machine={props.machine} /></span>\n  } else {\n    return <span className={classNames(classes)} onClick={() => props.onBlankClick(props.id)} />\n  }\n}\n\nFactoryBlock.propTypes = {\n  machine: PropTypes.object,\n  selection: PropTypes.object,\n  id: PropTypes.number.isRequired,\n  onBlankClick: PropTypes.func,\n  onMachineClick: PropTypes.func\n}\n","import { connect } from 'react-redux'\nimport { FactoryBlock } from '../components/FactoryBlock'\n\nimport { blankSelection, machineSelection } from '../actions/game'\n\nconst mapActionsToProps = dispatch => {\n  return {\n    onBlankClick: blockId => dispatch(blankSelection(blockId)),\n    onMachineClick: machine => dispatch(machineSelection(machine))\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    selection: state.selected\n  }\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(FactoryBlock)\n","import React from 'react'\nimport FactoryBlock from '../containers/FactoryBlock'\n\nimport '../styles/Factory.css'\n\nexport class Factory extends React.Component {\n  render () {\n    var classFactory = 'factory'\n    const toMove = this.props.toMove\n    if (toMove) {\n      classFactory = 'factory factory_disabled'\n    }\n\n    return (\n      <div className={classFactory}>\n        { this.props.factory.map((block, k) => <FactoryBlock machine={block} key={k} id={k} />) }\n      </div>\n    )\n  }\n}\n","import { connect } from 'react-redux'\nimport { Factory } from '../components/Factory'\n\nconst mapStateToProps = (state) => {\n  return {\n    selected: state.selected,\n    factory: state.factory,\n    toMove: state.toMove\n  }\n}\n\nexport default connect(mapStateToProps, null)(Factory)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport '../styles/DetailsToolBox.css'\n\nexport const DetailsToolBox = (props) => {\n  const renderButtons = () => {\n    if (props.selection && props.selection.type !== 'NEW') {\n      return (\n        <div className='buttons'>\n          <div className='btn delete' onClick={() => props.onDeleted(props.selection.machine)} />\n          <div className='btn rotate' onClick={() => props.onRotate(props.selection.machine)} />\n          <div className='btn move' onClick={() => props.onMove(props.selection.machine)} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const renderMaterialSelection = () => {\n    if (props.selection && props.selection.machine.production) {\n      return (\n        <div className='buttons-material'>\n          <div className='btn iron' onClick={() => selectMaterial('IRON')} />\n          <div className='btn diamond' onClick={() => selectMaterial('DIAMOND')} />\n          <div className='btn gold' onClick={() => selectMaterial('GOLD')} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const selectMaterial = (material) => (props.selection.machine.production = material)\n\n  return (\n    <div className='details-toolbox'>\n      <h1 className='title'>Edición</h1>\n      <div className='content'>\n        <MachineDetails machine={props.selection.machine} />\n        {renderMaterialSelection()}\n        {renderButtons()}\n      </div>\n    </div>\n  )\n}\n\nDetailsToolBox.propTypes = {\n  selection: PropTypes.object,\n  money: PropTypes.number,\n  onDeleted: PropTypes.func,\n  onRotate: PropTypes.func,\n  onMove: PropTypes.func\n}\n\nconst MachineDetails = (props) => {\n  if (props.machine) {\n    return (\n      <div className='machine-details'>\n        <p>MACHINE: {props.machine.name}</p>\n        {props.machine.frequency ? <p>Frecuencia: {props.machine.frequency}</p> : ''}\n        {props.machine.production ? <p>Producción: {props.machine.production}</p> : ''}\n        <p>Precio: ${props.machine.price}</p>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import { connect } from 'react-redux'\nimport { DetailsToolBox } from '../components/DetailsToolBox'\n\nimport { deleted, rotate, move } from '../actions/game'\n\nconst mapActionsToProps = dispatch => {\n  return {\n    onDeleted: (machine) => dispatch(deleted(machine)),\n    onRotate: (machine) => dispatch(rotate(machine)),\n    onMove: (machine) => dispatch(move(machine))\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    money: state.money,\n    toMove: state.toMove,\n    selection: state.selected\n  }\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(DetailsToolBox)\n","import { connect } from 'react-redux'\nimport { Money } from '../components/Money'\n\nimport '../styles/Money.css'\n\nconst mapStateToProps = (state) => {\n  return {\n    money: state.money\n  }\n}\n\nexport default connect(mapStateToProps)(Money)\n","import React from 'react'\n\nexport const Money = ({ money }) => {\n  return (\n    <div className='money'>Dinero: ${money} </div>\n  )\n}\n","import React from 'react'\nimport './App.css'\nimport { connect } from 'react-redux'\n\nimport { tick } from './actions/game'\nimport MachineToolbox from './containers/MachineToolbox'\nimport Factory from './containers/Factory'\nimport DetailsToolBox from './containers/DetailsToolBox'\nimport Money from './containers/Money'\n\nclass App extends React.Component {\n  componentDidMount () {\n    setInterval(this.props.notifyTick, 1000)\n  }\n\n  render () {\n    return (\n      <div className='App'>\n        <header className='App-header'>\n          <h1 className='app-title'>\n            Revolución Industrial\n          </h1>\n          <Money />\n        </header>\n        <body>\n          <MachineToolbox />\n          <Factory />\n          <DetailsToolBox />\n        </body>\n      </div>\n    )\n  }\n}\n\nconst mapActionsToProps = dispatch => {\n  return {\n    notifyTick: () => dispatch(tick())\n  }\n}\n\nexport default connect(null, mapActionsToProps)(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","var globalUpdates = []\n\nconst updateMachine = (machine, id) => {\n  const changes = machine.update()\n  globalUpdates = globalUpdates.concat(changes)\n}\n\nconst apply = (state, update) => {\n  const machineTarget = state.factory[update.id]\n  if (!machineTarget) {\n    return state\n  }\n\n  if (machineTarget.profit) {\n    state.money = state.money + machineTarget.profit\n    machineTarget.profit = 0\n  }\n\n  state.factory[update.id] = update.execute(machineTarget)\n\n  return state\n}\n\nconst tick = (state) => {\n  state.factory.map((machine, id) => machine ? updateMachine(machine, id) : null)\n  const newState = globalUpdates.reduce((state, change) => apply(state, change), state)\n  globalUpdates = []\n\n  return {\n    ...state,\n    factory: newState.factory.slice(0)\n  }\n}\n\nexport const game = (state, action) => {\n  return tick(state)\n}\n","import { game } from './game'\n\nconst constants = require('../constants')\n\nconst addNewMachine = (state, blockId) => {\n  if (state.selected.type !== 'NEW') {\n    return state\n  }\n  const newMachine = state.selected.machine\n  newMachine.id = blockId\n\n  if (newMachine.price > state.money) {\n    return state\n  }\n\n  return {\n    ...state,\n    factory: state.factory.map((e, k) => k === blockId ? newMachine : e),\n    selected: { type: 'MACHINE', machine: newMachine },\n    money: state.money - newMachine.price\n  }\n}\n\nconst rotateMachine = (state, machine) => {\n  machine.rotate()\n  state.factory[machine.id] = machine.clone()\n\n  return {\n    ...state,\n    factory: state.factory.slice(0)\n  }\n}\n\nconst deleteMachine = (state, machine) => {\n  state.factory[machine.id] = null\n\n  return {\n    ...state,\n    selected: '',\n    factory: state.factory.slice(0)\n  }\n}\n\nexport const ui = (state, action) => {\n  switch (action.type) {\n    case constants.ACTION_SELECTION_NEW:\n      return {\n        ...state,\n        selected: { type: 'NEW', machine: action.machine }\n      }\n    case constants.ACTION_SELECTION_BLANK:\n      return addNewMachine(state, action.blockId)\n    case constants.ACTION_SELECTION_MACHINE:\n      return {\n        ...state,\n        selected: { type: 'MACHINE', machine: action.machine }\n      }\n    case constants.ACTION_ROTATE:\n      return rotateMachine(state, action.machine)\n    case constants.ACTION_DELETE:\n      return deleteMachine(state, action.machine)\n    case 'TICK':\n      return game(state, action)\n    case constants.ACTION_MOVE:\n      return {\n        ...state,\n        toMove: state.toMove\n      }\n    default:\n      return state\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createStore } from 'redux'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport { initialState } from './constants'\nimport { ui as reducer } from './reducers/ui'\n\nconst store = createStore(\n  reducer,\n  initialState,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","export const FACTORY_HEIGHT = 8\nexport const FACTORY_WIDTH = 8\n\nexport const BLOCK_EMPTY = 'BLOCK_EMPTY'\nexport const MACHINE_STARTER = 'STARTER'\nexport const MACHINE_SELLER = 'SELLER'\nexport const MACHINE_TRANSPORTER = 'TRANSPORTER'\nexport const MACHINE_FURNACE = 'FURNACE'\nexport const MACHINE_CRAFTER = 'CRAFTER'\nexport const MACHINE_TYPES = [MACHINE_STARTER, MACHINE_SELLER, MACHINE_TRANSPORTER, MACHINE_FURNACE, MACHINE_CRAFTER]\n\nexport const ACTION_SELECTION_NEW = 'ACTION_SELECTION_NEW'\nexport const ACTION_SELECTION_BLANK = 'ACTION_SELECTION_BLANK'\nexport const ACTION_SELECTION_MACHINE = 'ACTION_SELECTION_MACHINE'\nexport const ACTION_DELETE = 'ACTION_DELETE'\nexport const ACTION_ROTATE = 'ACTION_ROTATE'\nexport const ACTION_MOVE = 'ACTION_MOVE'\n\nexport const STARTER_PRICE = 100\nexport const SELLER_PRICE = 250\nexport const TRANSPORTER_PRICE = 50\nexport const FURNACE_PRICE = 300\nexport const CRAFTER_PRICE = 200\n\nexport const initialState = {\n  factory: [...Array(FACTORY_HEIGHT * FACTORY_WIDTH)].map(() => null),\n  selected: '',\n  money: 1000\n}\n"],"sourceRoot":""}